<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>
      SMART on FHIR -- Tutorials -- Testing
    </title>

    <!-- Bootstrap core CSS -->
    <link href="/assets/css/bootstrap-cosmo.css" rel="stylesheet">

    <!-- Documentation extras -->
    <link href="/assets/css/smart-on-fhir-docs.css" rel="stylesheet">
	
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Favicons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="../assets/ico/favicon.ico">

  </head>
  <body data-spy="scroll" data-target=".page-navbar">

    <!-- Docs master nav -->
    <header class="navbar navbar-static-top bs-docs-nav" id="top" role="banner">
    <div class="container">
      <div class="navbar-header">
        <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a href="/" class="navbar-brand">SMART on FHIR (AU)</a>
      </div>

      <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">

      <ul class="nav navbar-nav">
        <li class="dropdown">
        <a href="/sandbox" class="dropdown-toggle" data-toggle="dropdown">Sandbox<b class="caret"></b></a>
        <ul class="dropdown-menu">
          <li><a href="/sandbox">Overview</a></li>
          <li><a href="/sandbox/account">Account Setup</a></li>
          <li><a href="/sandbox/register">Register Your App</a></li>
          <li><a href="/tutorials/testing">Test Your App</a></li>
          <li><a href="/sandbox/install">Build Your Own Sandbox</a></li>
        </ul>
        </li>
        <li class="dropdown">
        <a href="/sandbox" class="dropdown-toggle" data-toggle="dropdown">Client libraries<b class="caret"></b></a>
        <ul class="dropdown-menu">
          <li><a href="/clients/javascript">JavaScript</a></li>
          <li><a href="/clients/python">Python</a></li>
          <li><a href="/Swift-SMART/">iOS</a></li>
          <li><a href="/clients/others">Other Frameworks</a></li>
        </ul>
        </li>
        <li class="dropdown">
        <a href="/authorization" class="dropdown-toggle" data-toggle="dropdown">Authorization<b class="caret"></b></a>
        <ul class="dropdown-menu">
          <li><a href="/authorization">SMART App Authorization Guide</a></li>
          <li><a href="/authorization/scopes-and-launch-context">Scopes and launch context</a></li>
          <li><a href="/authorization/best-practices">Best practices for EHRs</a></li>
          <li><a href="/authorization/backend-services">Backend services (draft)</a></li>
        </ul>
        </li>
        <li class="dropdown">
			<a href="/profiles" class="dropdown-toggle" data-toggle="dropdown">Data<b class="caret"></b></a>
			<ul class="dropdown-menu">
				<li><a href="/profiles">Overview</a></li>
				<li style="padding-left:10px"><a href="/profiles/profile-ihi">IHI</a></li>
				<li style="padding-left:10px"><a href="/profiles/profile-medicare">Medicare Number</a></li>
				<li style="padding-left:10px"><a href="/profiles/extension-indigenous-status">Indigenous Status</a></li>
				<li><a href="/profiles/coding">Coding</a></li>
			</ul>
        </li>
        <li class="dropdown">
        <a href="/tutorials" class="dropdown-toggle" data-toggle="dropdown">Tutorials<b class="caret"></b></a>
        <ul class="dropdown-menu">
           <li><a href="/tutorials">Overview</a></li>
           <li><a href="/tutorials/javascript">Building a JavaScript app</a></li>
           <li><a href="/tutorials/rest">Building a REST app</a></li>
           <li><a href="/tutorials/testing">Testing your app from localhost</a></li>
           <li><a href="/tutorials/authorization">Simple Authorization App</a></li>
           <li><a href="/tutorials/server-quick-start">Building a server: quick-start guide</a></li>
        </ul>
        </li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="https://groups.google.com/forum/#!forum/smart-on-fhir">Google Group</a></li>
        <li><a href="https://github.com/smart-on-fhir">GitHub</a></li>
      </ul>
      </nav>
    </div>
    </header>


    <!-- Docs page layout -->
    <div id="master">
      <div class="container bs-docs-container">

        <div class="row">
          <div class="col-md-9 page-content" role="main">
            <h1>Tutorials - Testing Your SMART App Against The Public Sandbox</h1>

<h2>Overview</h2>

<p>This tutorial will walk you through the steps for testing your SMART on mFHIR
app against our public apps container.</p>

<h2>General steps</h2>

<p>To test your app against <a href="https://fhir.smarthealthit.org">our public sandbox server</a>, first set up a local web server<sup>*</sup>
and server your FHIR app and its launch page at the following URLs:</p>

<ul>
<li><a href="http://localhost:8000/fhir-app/">http://localhost:8000/fhir-app/</a></li>
<li><a href="http://localhost:8000/fhir-app/launch.html">http://localhost:8000/fhir-app/launch.html</a></li>
</ul>

<p>Also, make sure that your <code>client_id</code> in <code>launch.html</code> is set to <code>my_web_app</code>. At this point
you can <a href="https://fhir.smarthealthit.org">sign into our sandbox</a> and launch the &quot;My Web App&quot; special application which will
load your app.</p>

<p><sup>*</sup> You can use any web server you like. For prototyping, we&#39;re partial to <a href="https://github.com/nodeapps/http-server"><code>http-server</code></a> which you can launch via
<code>http-server -p 8000 /path/to/fhir-app/..</code>.</p>

<h3>Sample Test App</h3>

<p>To get you started, here is the scaffolding of a simple SMART-on-FHIR app that you can use
for testing this mechanism. Note that you can&#39;t use the &quot;rawgithub&quot; domain in production, 
but it can be handy for testing.</p>

<p>launch.html</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;script src=&quot;https://rawgithub.com/smart-on-fhir/client-js/master/dist/fhir-client.js&quot;&gt;&lt;/script&gt;
    &lt;script&gt;
      FHIR.oauth2.authorize({
        &quot;client_id&quot;: &quot;my_web_app&quot;,
        &quot;scope&quot;:  &quot;patient/*.read&quot;
      });
    &lt;/script&gt;
  &lt;/head&gt;
  Loading...
&lt;/html&gt;
</code></pre></div>
<p>index.html</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;script src=&quot;https://rawgithub.com/smart-on-fhir/client-js/master/dist/fhir-client.js&quot;&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Medications for &lt;span id=&quot;name&quot;&gt;&lt;/span&gt;&lt;/h1&gt;

    &lt;ul id=&quot;med_list&quot;&gt;&lt;/ul&gt;

    &lt;script type=&quot;text/javascript&quot;&gt;
      (function () {
        &quot;use strict&quot;;

        function getName (medication) {
            if (medication.text) {
                return medication.text;
            } else if (medication.coding &amp;&amp; medication.coding[0].display) {
                return medication.coding[0].display;
            } else {
                return &quot;Unnamed Medication(TM)&quot;;
            }
        }

        FHIR.oauth2.ready(function(smart){
          var patient = smart.patient;

          patient.read().then(function(pt) {

            var name =
                pt.name[0].given.join(&quot; &quot;) + &quot; &quot; +  
                pt.name[0].family.join(&quot; &quot;);

            document.getElementById(&#39;name&#39;).innerHTML = name;

            patient.api
            .search({type: &quot;MedicationOrder&quot;})
            .then(function(prescriptions) {

              var med_list = document.getElementById(&#39;med_list&#39;);

              if (!prescriptions.data.entry) {
                med_list.innerHTML = &quot;No medications.&quot;;
                return;
              }

              prescriptions.data.entry.forEach(function(prescription){
                var med = prescription.resource.medicationCodeableConcept;
                med_list.innerHTML += &quot;&lt;li&gt; &quot; + getName(med) + &quot;&lt;/li&gt;&quot;;
              });

            });
          });
        });

      }());
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre></div>
          </div>


          <div class="col-md-3 page-content" role="main">
            <div class="alert alert-info">
             The SMART on FHIR API is evolving in parallel with the <a class="alert-link"
               href="http://hl7.org/fhir/timelines.html">FHIR ballot releases</a>.
             If you spot problems,
             please <a class="alert-link"
               href="https://github.com/smart-on-fhir/smart-on-fhir.github.io/issues">file
               an issue</a>. 
             
             Or better yet, you can <a class="alert-link edit-in-github" 
               href="">edit
               this page</a>.

            </div> 
          </div>

        </div>
      </div>
    </div>
    <script>
      window.github_branch = "fhir-au";
    </script>
    <script src="/assets/js/jquery-2.1.0.js"></script>
    <script src="/assets/js/bootstrap3.min.js"></script>
    <script src="/assets/js/site.js"></script>
    <footer class="text-center">
      <div class="container">
        <div class="row">
          <div class="col-lg-12">
            Version: <a href="/releases/">fhir-au</a> - <a href="http://smarthealthit.org">SMART Health IT 2015</a>
          </div>
        </div>
      </div>
    </footer>
    
  </body>
</html>
